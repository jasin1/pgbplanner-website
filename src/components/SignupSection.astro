---

---

<section class="padding-big section-bg-color" id="aanmelden">
  <div class="container pgb-signup__inner">
    <div class="pgb-signup__copy">
      <h2>Blijf op de hoogte<br />van PGB Planner</h2>
      <p class="text-signup">
        We bouwen momenteel aan een tool die het beheren van je PGB
        overzichtelijker en makkelijker maakt. <br />Laat je e-mailadres achter
        om op de hoogte te blijven, en geef aan of je wilt helpen testen zodra
        de eerste versie klaar is.
      </p>
      <div>
        <a
          href="mailto:info@pgbplanner.nl"
          target="_blank"
          rel="noopener noreferrer"
          class="pgb-mail-link"
        >
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            aria-hidden="true"
          >
            <path
              d="M2 6L8.91302 9.91697C11.4616 11.361 12.5384 11.361 15.087 9.91697L22 6"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linejoin="round"></path>
            <path
              d="M2.01577 13.4756C2.08114 16.5412 2.11383 18.0739 3.24496 19.2094C4.37608 20.3448 5.95033 20.3843 9.09883 20.4634C11.0393 20.5122 12.9607 20.5122 14.9012 20.4634C18.0497 20.3843 19.6239 20.3448 20.7551 19.2094C21.8862 18.0739 21.9189 16.5412 21.9842 13.4756C22.0053 12.4899 22.0053 11.5101 21.9842 10.5244C21.9189 7.45886 21.8862 5.92609 20.7551 4.79066C19.6239 3.65523 18.0497 3.61568 14.9012 3.53657C12.9607 3.48781 11.0393 3.48781 9.09882 3.53656C5.95033 3.61566 4.37608 3.65521 3.24495 4.79065C2.11382 5.92608 2.08114 7.45885 2.01576 10.5244C1.99474 11.5101 1.99475 12.4899 2.01577 13.4756Z"
              stroke="currentColor"
              stroke-width="1.5"
              stroke-linejoin="round"></path>
          </svg>
          <span>info@pgbplanner.nl</span>
        </a>
      </div>
      <p class="text-ps">
        *We sturen alleen updates over de lancering. Uitschrijven kan altijd.
      </p>
    </div>

    <form
      class="pgb-signup__form"
      method="post"
      action="https://app.kit.com/forms/8738389/subscriptions"
    >
      <!-- (optioneel) tag op elke inschrijving -->
      <input type="hidden" name="tags[]" value="Waitlist" />

      <!-- (optioneel) jouw eigen bedankt-pagina -->
      <input
        type="hidden"
        name="redirect_url"
        value="https://pgbplanner.nl/bedankt"
      />

      <!-- Voornaam (Kit: first_name) -->
      <label class="pgb-field">
        <span class="pgb-label">Naam</span>
        <input
          type="text"
          name="first_name"
          id="pgb-name"
          placeholder="Naam"
          autocomplete="name"
          required
        />
      </label>

      <!-- Email (Kit: email_address) -->
      <label class="pgb-field">
        <span class="pgb-label">Email</span>
        <input
          type="email"
          name="email_address"
          id="pgb-email"
          placeholder="Email"
          autocomplete="email"
          required
        />
      </label>

      <!-- PGB Type → custom field in Kit: pgb_type -->
      <label class="pgb-field">
        <span class="pgb-label">Welke PGB heb je?</span>
        <select name="fields[waitlist_pgb_type]" id="pgb-type" required>
          <option value="" selected disabled>Welke PGB heb je?</option>
          <option value="WLZ">WLZ</option>
          <option value="WMO">WMO</option>
          <option value="Jeugdwet">Jeugdwet</option>
          <option value="Anders">Anders</option>
        </select>
      </label>

      <!-- Tester-opt-in → custom field in Kit: tester_optin (niet verplicht) -->
      <label class="pgb-checkbox">
        <input
          type="checkbox"
          name="fields[waitlist_tester_optin]"
          id="pgb-tester"
          value="yes"
        />
        <span class="pgb-checkbox__label">
          Ik wil graag testen zodra de eerste versie klaar is
        </span>
      </label>

      <div class="pgb-form-status" aria-live="polite"></div>
      <button class="pgb-btn" type="submit">Versturen</button>
    </form>
  </div>

  <script is:inline>
    (function () {
      const form = document.querySelector(".pgb-signup__form");
      if (!form) return;

      const statusEl = form.querySelector(".pgb-form-status");
      const submitBtn = form.querySelector(".pgb-btn");

      function sameOrigin(url) {
        try {
          return new URL(url, location.href).origin === location.origin;
        } catch {
          return false;
        }
      }

      // Als de action naar Kit gaat (cross-origin), geen fetch -> browser regelt redirect/bedankt.
      if (!sameOrigin(form.action)) return;

      function setStatus(msg, type = "info") {
        if (!statusEl) return;
        statusEl.textContent = msg || "";
        statusEl.classList.remove("is-error", "is-success", "is-info");
        statusEl.classList.add(
          type === "error"
            ? "is-error"
            : type === "success"
              ? "is-success"
              : "is-info",
        );
      }

      function createThanksNode(name) {
        const wrap = document.createElement("div");
        wrap.className = "pgb-thanks";
        wrap.innerHTML = `
        <h3>Bedankt${name ? `, ${String(name).split(" ")[0]}` : ""}!</h3>
        <p>Je staat op de lijst. We sturen alleen updates over de lancering. Uitschrijven kan altijd.</p>
        <p>Vragen? Mail ons op <a class="pgb-mail-link" href="mailto:info@pgbplanner.nl">info@pgbplanner.nl</a>.</p>
      `;
        return wrap;
      }

      async function handleSubmit(e) {
        e.preventDefault();
        if (!form.reportValidity()) return;

        const original = submitBtn?.textContent;
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.textContent = "Versturen…";
        }
        setStatus("");

        const fd = new FormData(form);

        try {
          const res = await fetch(form.action, {
            method: form.method || "POST",
            body: fd,
            headers: { Accept: "application/json" },
          });

          if (res.ok) {
            // Probeer JSON, maar is optioneel
            try {
              await res.json();
            } catch {}

            const thanksNode = createThanksNode(fd.get("first_name"));
            form.replaceWith(thanksNode);
          } else {
            let msg = "Er ging iets mis. Probeer later opnieuw of mail ons.";
            try {
              const data = await res.json();
              if (data?.error || data?.message)
                msg = data.error || data.message;
            } catch {}
            setStatus(msg, "error");
          }
        } catch {
          setStatus(
            "Geen verbinding. Controleer je internet en probeer opnieuw.",
            "error",
          );
        } finally {
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.textContent = original || "Versturen";
          }
        }
      }

      form.addEventListener("submit", handleSubmit);

      // (optioneel) ?tester=1 vinkt checkbox automatisch aan
      try {
        const params = new URLSearchParams(location.search);
        if (params.get("tester") === "1")
          document
            .getElementById("pgb-tester")
            ?.setAttribute("checked", "true");
      } catch {}
    })();
  </script>
</section>
<style>
  /*---------------- Form styles -----------------*/
  /* ===== Layout ===== */
  .pgb-signup {
    /* background: #f6f5f2; lichte zandtint zoals je screenshot */
    /* padding: 64px 24px; */
  }

  .pgb-signup__inner {
    /* max-width: 100%; */
    margin: 0 auto;
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 48px;
  }

  .pgb-signup__copy {
    flex: 1 1 55%;
  }

  .pgb-signup__copy h2 {
    font-size: 2.5rem;
    line-height: 1.1;
    letter-spacing: 0.2px;
    margin: 0 0 16px;
    font-weight: 800;
    color: var(--color-secondary);
  }

  .text-signup {
    max-width: 600px;
    font-size: 1.25rem;
    line-height: 1.6;
    color: var(--color-body-text);
    margin-bottom: 1.8rem;
  }

  /* ===== Form Card ===== */
  .pgb-signup__form {
    flex: 0 0 520px; /* vaste breedte zoals in je design */
    background: #ffffff;
    /* border: 1px solid var(--color-form-border); */
    border-radius: 12px;
    padding: 40px 20px;
    display: grid;
    gap: 16px;
    box-shadow:
      0 4px 6px -2px #1212170d,
      0 10px 15px -3px #17141214;
  }

  .pgb-field {
    display: grid;
    gap: 6px;
  }

  .pgb-label {
    position: absolute;
    left: -9999px; /* visueel verborgen, wel toegankelijk */
  }

  .pgb-signup__form input,
  .pgb-signup__form select {
    width: 100%;
    height: 48px;
    padding: 0 14px;
    border: 1px solid #d7d4cf;
    border-radius: 8px;
    font-size: 16px;
    color: #222;
    background: #fff;
    outline: none;
    transition:
      border-color 120ms ease,
      box-shadow 120ms ease;
  }

  .pgb-signup__form select {
    appearance: none;
    background-image: linear-gradient(45deg, transparent 50%, #6b7280 50%),
      linear-gradient(135deg, #6b7280 50%, transparent 50%),
      linear-gradient(to right, transparent, transparent);
    background-position:
      calc(100% - 22px) 22px,
      calc(100% - 16px) 22px,
      0 0;
    background-size:
      6px 6px,
      6px 6px,
      100% 100%;
    background-repeat: no-repeat;
  }

  .pgb-signup__form input::placeholder,
  .pgb-signup__form select:invalid {
    color: #9aa0a6;
  }

  .pgb-signup__form input:focus,
  .pgb-signup__form select:focus {
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
  }

  .pgb-btn {
    margin-top: 4px;
    height: 46px;
    border: none;
    border-radius: 10px;
    padding: 0 18px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    background: #3b6fb7; /* blauw zoals je button */
    color: #fff;
    transition:
      transform 120ms ease,
      filter 120ms ease;
  }

  .pgb-btn:hover {
    filter: brightness(1.05);
  }
  .pgb-btn:active {
    transform: translateY(1px);
  }

  .pgb-checkbox {
    display: flex;
    align-items: flex-start; /* label kan meerregelig zijn */
    gap: 0.8rem; /* kleine ruimte tussen box en tekst */
  }

  .pgb-checkbox input[type="checkbox"] {
    margin: 0; /* reset default browser margin */
    width: 20px;
    height: 20px;
    flex: 0 0 auto; /* voorkom uitrekken */
    /* optional: accent-color voor thema
  accent-color: #1f6feb;
  */
  }

  .pgb-checkbox__label {
    line-height: 1.3;
  }

  .pgb-mail-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem; /* ruimte tussen icon en tekst */
    font-weight: 500;
    color: var(--color-body-text); /* of var(--text-color) */
    text-decoration: none;
    transition: color 0.2s ease;
  }

  .pgb-mail-link:hover {
    color: var(--color-l-blue); /* zachte blauwe hoverkleur */
  }

  .pgb-mail-link svg {
    flex-shrink: 0;
    width: 20px;
    height: 20px;
  }

  /* ===== Responsive Styles ===== */

  /* Tablet (max 1024px) */
  @media (max-width: 1024px) {
    .pgb-signup__inner {
      gap: 32px;
    }

    .pgb-signup__form {
      flex: 0 0 440px;
      padding: 32px 24px;
    }

    .pgb-signup__copy h2 {
      font-size: 2rem;
    }

    .text-signup {
      font-size: 1.125rem;
    }
  }

  /* Tablet portrait / grote mobiel (max 768px) */
  @media (max-width: 768px) {
    .pgb-signup__inner {
      flex-direction: column;
      gap: 40px;
    }

    .pgb-signup__copy {
      flex: 1 1 auto;
    }

    .pgb-signup__form {
      flex: 1 1 auto;
      width: 100%;
      max-width: 520px;
    }

    .pgb-signup__copy h2 {
      font-size: 1.875rem;
    }
  }

  /* Mobiel (max 480px) */
  @media (max-width: 480px) {
    .pgb-signup__inner {
      gap: 32px;
    }

    .pgb-signup__copy h2 {
      font-size: 1.625rem;
    }

    .text-signup {
      font-size: 1rem;
      margin-bottom: 1.5rem;
    }

    .pgb-signup__form {
      padding: 28px 20px;
      gap: 14px;
    }

    .pgb-signup__form input,
    .pgb-signup__form select {
      height: 44px;
      font-size: 16px; /* voorkomt zoom op iOS */
    }

    .pgb-btn {
      height: 44px;
      font-size: 15px;
    }

    .pgb-mail-link {
      font-size: 0.9375rem;
    }

    .text-ps {
      font-size: 0.875rem;
    }
  }
</style>
